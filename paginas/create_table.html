<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../media/favicon.ico" type="image/x-icon">
    <!-- <link rel="stylesheet" href="../css/style.css"> -->
    <link rel="stylesheet" href="../css/styleLogin.css">
    <title>Criar uma Mesa</title>
</head>

<body>
    <div class="container">
        <main class="telasLoginLogonCreation">
            <div class="criacao">
                <div class="logo">
                    <picture>
                        <img src="../media/logo.PNG" alt="logo">
                    </picture>
                </div>
                <div class="conteudo">
                    <form action="home_page.html">
                        <div class="formulario Informations">
                            <p>
                                <input type="text" id="nomeMesa" name="nomeMesa" placeholder="Nome da Mesa" required>
                                <label for="nJogadores">N°</label>
                                <input type="number" id="nJogadores" name="nJogadores" min="1" max="9">
                            </p>

                            <label for="dataJogo">Data do Jogo</label>
                            <input type="datetime-local" id="dataJogo" name="dataJogo" step="900">
                            </p>
                            <p>
                                <label for="duracao">Duração:</label>
                                <input type="time" name="duracao" id="duracao" step="900" max="08:00">
                            </p>
                            <p>
                                <select name="chooseGM" id="chooseGM" class="Informations">
                                    <option value="0" selected disabled>Escolha um GM</option>
                                </select>
                            </p>
                        </div>

                        <div class="botoes">
                            <button class="btConfirmar" type="submit" onclick="fecharJanela()">Criar Mesa</button>
                            <button class="btCancelar" type="reset" onclick="fecharJanela()">Cancelar</button>
                        </div>

                    </form>
                </div>
            </div>
        </main>
        <footer>
            <div>&copy; Todos os Direitos Reservados 2023.</div>
        </footer>

        <script>
            //coloca a data mínima se registrar um jogo como a atual
            const today = new Date().toISOString().split("T")[0] + 'T00:00';
            var minDate = document.getElementById("dataJogo");
            minDate.setAttribute('min', today);

            //setar o máximo de jogadores na mesa em 8
            var nJogadores = document.getElementById('nJogadores');
            const maxPlayers = nJogadores.getAttribute('max');

            nJogadores.addEventListener('blur', () => {
                if (parseInt(nJogadores.value) > maxPlayers) {
                    nJogadores.style.border = '1px solid #994444';
                    nJogadores.style.backgroundColor = '#f3e1e1';
                    nJogadores.style.color = '#341717';
                }
                else {
                    nJogadores.style.border = '';
                    nJogadores.style.backgroundColor = '';
                    nJogadores.style.color = '';
                }
            }
            );

            function fecharJanela() {
                window.close();
            }

        </script>
    </div>
</body>

</html>